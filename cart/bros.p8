pico-8 cartridge // http://www.pico-8.com
version 36
__lua__
--bros is 120x169px
--15x21 sprites

game = {
	score=0,
	coins=0,
	lives=3,
	lvl=11,
	timer=0,
	wep=0,
}

function _init()
	print("loading font")
	load_font()
	print("hello world01234")
	stop("done")
end

function _update()
	--hoho
end

function _draw()
	draw_score()
end

function sprtochar(sprn)
	--sprn is sprite number
	char = {}
	sprn -= 1
	col = sprn % 16
	row = flr(sprn / 16)
	x = col * 8
	y = row * 8
	for i=0,7 do
		char[i] = 0
		for j=0,7 do
			if sget(x+j, y+i) == 0 then
				char[i] = char[i] | 2^j 
			end
		end
	end
	return char
end

function fblock(src, dest, len)
	--font copy block
	--src is sprite number
	--dest is p8scii code
	daddr = 0x5605 + dest * 8
	for i=1,len do
		char = sprtochar(src)
		poke(daddr, unpack(char))
		src += 1
		daddr += 8
	end
end

function load_font()
	--load custom font from sprite
	-- sheet and activate it
	
	--letters then numbers
	fblock(49, 65, 26)
	fblock(81, 48, 10)
	
	--switch and metadata
	poke(0x5f58, 0x1 | 0x80)
	--poke(0x5600, 3)
	poke(0x5600, 8)
	poke(0x5602, 7)
end

function draw_score()
	spr(33, 7, 1)
	spr(34, 10, 1)
	spr(35, 12, 1)
	spr(36, 15, 1)
	print(game.score, 1, 1)
	print(":"..game.coins, 8, 1)
	print(":"..game.lives, 11, 1)
	print("lvl:"..game.lvl, 13, 1)
	print(":"..game.timer, 13, 1)
	print(":"..game.wep, 16, 1)
end

__gfx__
00000000111111111112221111222111144114411411114111141411111111111111111111111111111111117777777777777777777777777777777777777777
00000000111111111122222212222221122112211411114111141411114111411141114114111141114114117777777777777777777777777777777777777777
00700700111111111114044111404411142222411414144114141411140414041404140411411411114114117777777777777777777777777777777777777777
00077000111111111114411111441111100000011414144114141441124222411242224112422421124224217777777777777777777777777777777777777777
00077000111111111000000104000041111441114040404140404041222222222222222222222222222222227777777777777777777777777777777777777777
00700700111111111422224112222111114444114404000440000004122222211222222112222221122222217777777777777777777777777777777777777777
00000000111111111221122122112211122222214000040440400044114114111141141111411411114114117777777777777777777777777777777777777777
00000000111111111441144144114411112222114040400444000404141111411141141114111141114114117777777777777777777777777777777777777777
00000000444444454444444550555555111111155505550511115505144445455550500144445455555505007777777777777777777777777777777777777777
00000000400000504555555050555555111111155505550511115500144445455550500144445455555505007777777777777777777777777777777777777777
00000000405555404554455050555555111111155050550011110055144445455550500144445455555505007777777777777777777777777777777777777777
00000000405555404545505000000000111111100555005511110555144445455550500144445455555505007777777777777777777777777777777777777777
00000000405555404545505055555055111111150555055511110555144445455550500144445455555505007777777777777777777777777777777777777777
00000000405555404550055055555055111111150550055511115050144445455550500144445455555505007777777777777777777777777777777777777777
00000000454444404555555055555055111111155005505011115505144445455550500144445455555505007777777777777777777777777777777777777777
00000000500000005000000000000000111111105505550511115505144445455550500100000000000000007777777777777777777777777777777777777777
00000000111111111115551111000111111411117777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000114455111155555510040011110501117777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000144445511114044100040001105550117777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000144445511114411104440501455555417777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000144445511000000100000001105550117777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000144445511455554110050011110501117777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000114455111551155111000111111411117777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000111111111441144111111111111111117777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000707777770077777770077777007777770007777700077777707777770707777700077777000777770707777707777777070777770707777770777777
00000000070777770707777707777777070777770777777707777777070777770707777770777777770777770707777707777777000777770007777707077777
00000000070777770707777707777777070777770777777707777777077777770707777770777777770777770707777707777777000777770007777707077777
00000000000777770077777707777777070777770077777700777777000777770007777770777777770777770077777707777777070777770007777707077777
00000000070777770707777707777777070777770777777707777777070777770707777770777777770777770707777707777777070777770007777707077777
00000000070777770707777707777777070777770777777707777777070777770707777770777777070777770707777707777777070777770007777707077777
00000000070777770077777770077777007777770007777707777777707777770707777700077777707777770707777700077777070777770707777770777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000707777770077777770077777000777770707777707077777070777770707777707077777000777777777777777777777777777777777777777777777
00000000070777770707777707777777707777770707777707077777070777770707777707077777770777777777777777777777777777777777777777777777
00000000070777770707777707777777707777770707777707077777070777770707777770777777770777777777777777777777777777777777777777777777
00000000070777770077777770777777707777770707777707077777070777777077777770777777707777777777777777777777777777777777777777777777
00000000070777770707777777077777707777770707777707077777000777770707777770777777077777777777777777777777777777777777777777777777
00000000007777770707777777077777707777770707777770777777000777770707777770777777077777777777777777777777777777777777777777777777
00000000700777770707777700777777707777777077777770777777070777770707777770777777000777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000000777777077777700077777000777770707777700077777000777770007777700077777000777777777777777777777777777777777777777777777
00000000070777777077777777077777770777770707777707777777077777777707777707077777070777777777777777777777777777777777777777777777
00000000070777777077777777077777770777770707777707777777077777777707777707077777070777777777777777777777777777777777777777777777
00000000070777777077777700077777000777770007777700077777000777777707777700077777000777777777777777777777777777777777777777777777
00000000070777777077777707777777770777777707777777077777070777777707777707077777770777777777777777777777777777777777777777777777
00000000070777777077777707777777770777777707777777077777070777777707777707077777770777777777777777777777777777777777777777777777
00000000000777777077777700077777000777777707777700077777000777777707777700077777000777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
__map__
0101010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1111010111110101011111010101111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1101110111011101110101110111010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1105110111011101110101110111020100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1111010111110101110101110111110100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
110111011121110111191a110101011100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1101110111211101111718110107011100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1111010111011101011111010111110100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1615151515151515151515151515150100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
